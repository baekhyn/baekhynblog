---
title: 'typescript ì œë„¤ë¦­'
subtitle: 'Typescript Generics'
date: '2022-06-27'
category:
    - 'Typescript'
---

# ì œë„¤ë¦­

-   **ì œë„¤ë¦­**ì´ë€, **ì‚¬ìš©ì‹œì **ì— **íƒ€ì…ì„ ì„ ì–¸**í•˜ëŠ” ê²ƒ
-   íƒ€ì…ì„ **ì¸ì**ì²˜ëŸ¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë‹¤.

# ì œë„¤ë¦­ í•¨ìˆ˜

```ts
function merge<T, U>(objA: T, objB: U) {
    return Object.assign(objA, objB);
}

// 1
const mergeObj = merge<{ name: string; hobbies: string[] }, { ages: number }>(
    { name: 'Max', hobbies: ['Sports'] },
    { ages: 30 }
);

// 2
const mergeObj = merge({ name: 'Max', hobbies: ['Sports'] }, { ages: 30 });
```

-   ì œë„¤ë¦­ í•¨ìˆ˜ëŠ” **í˜¸ì¶œì‹œ**ì— íƒ€ì…ì´ ê²°ì •ëœë‹¤
-   í˜¸ì¶œë°©ë²•ì€ ë‘ê°€ì§€ ëª¨ë‘ ê°€ëŠ¥í•˜ë‚˜, ë°©ë²• 2ê°€ ì¢€ë” í”í•˜ê²Œ ì“°ì´ëŠ” ë°©ë²•ì„
-   merge í•¨ìˆ˜ì˜ **ë°˜í™˜íƒ€ì…**ì€ `T & U` **ì¸í„°ì„¹ì…˜ íƒ€ì…**ìœ¼ë¡œ **ì¶”ë¡ ë¨**

# ì œì•½ ì¡°ê±´

**ì œì•½ì¡°ê±´**ì„ ì‚¬ìš©í•˜ì—¬ ì œë„¤ë¦­ì˜ **êµ¬ì²´ì ì¸ íƒ€ì…ì˜ ë²”ìœ„**ë¥¼ ì¢í•  ìˆ˜ ìˆìŒ

```ts
function merge<T extends object, U extends object>(objA: T, objB: U) {
    return Object.assign(objA, objB);
}

const mergeObj = merge({ name: 'hyn', hobbies: ['Sports'] }, 30);
// ğŸš« Error

interface Lengthy {
    length: number;
}
// length ì†ì„±ì„ ì§€ë…€ì•¼í•¨ì„ ëª…ì‹œ

function counting<T extends Lengthy>(element: T) {
    console.log(element.length);
    // Lengthy ë¯¸ì„¤ì •ì‹œ Tê°€ lengthë¥¼ ê°€ì§€ëŠ” íƒ€ì…ì„ì„ ë³´ì¥í•  ìˆ˜ ì—†ìŒ
    return element;
}

counting(10);
// ğŸš« Error
```

# ê°ì²´ ì†ì„± ì œì•½

```ts
function extractAndConvert<T extends object, U extends keyof T>(obj: T, key: U) {
    return 'Value' + obj[key];
}

extractAndConvert({ name: 'hyn' }, 'name'); // Â âœ…
extractAndConvert({ name: 'hyn' }, 'age'); // ğŸš« Error
```

-   `extends keyof` ë¯¸ì‘ì„± ì‹œ **ê°ì²´ T**ì— **U ì†ì„±**ì´ ì¡´ì¬í•¨ì„ **ë³´ì¥í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ** ì—ëŸ¬ ë°œìƒ

# ì œë„¤ë¦­ í´ë˜ìŠ¤

```ts
class DataStorage<T extends string | number | boolean> {
    private data: Array<T> = [];

    addItem(item: T) {
        this.data.push(item);
    }

    removeItem(item: T) {
        if (this.data.indexOf(item) === -1) {
            return;
        }
        this.data.splice(this.data.indexOf(item), 1); //ì°¾ì§€ëª»í•œë‹¤ë©´ -1 ë°˜í™˜ ë§ˆì§€ë§‰ìš”ì†Œ ì œê±°
    }

    getItems() {
        return [...this.data];
    }
}

const textStorage = new DataStorage<string>();
textStorage.addItem('Max');
textStorage.addItem('Manu');
textStorage.removeItem('Max');
console.log(textStorage.getItems());

const numberStorage = new DataStorage<number>();
```

-   ìœ„ í´ë˜ìŠ¤ëŠ” ì˜¤ë¸Œì íŠ¸ íƒ€ì…ì— ì í•©í•˜ì§€ ì•ŠìŒ
-   ë”°ë¼ì„œ `extends string | number | boolean` ìœ¼ë¡œ ì œí•œ
-   ì œë„¤ë¦­ì— **ë¶ˆë¦¬ì–¸ íƒ€ì…**ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë‹¤

# Union vs Generics

ì´ì „ **ì œë„¤ë¦­** í´ë˜ìŠ¤ ì˜ˆì‹œì½”ë“œë¥¼ **ìœ ë‹ˆì˜¨ íƒ€ì…**ìœ¼ë¡œ **ë³€ê²½**í•˜ëŠ” ê²½ìš°

```ts
class DataStorage {
    private data: string[] | number[] | boolean[] = [];

    addItem(item: string | number | boolean) {
        this.data.push(item);
    }

    removeItem(item: string | number | boolean) {w
        if (this.data.indexOf(item) === -1) {
            return;
        }
        this.data.splice(this.data.indexOf(item), 1);
    }

    //...
```

-   ì´ì „ **ì œë„¤ë¦­ ë°©ì‹**ì—ì„œëŠ” **ì§€ì •í•œ Tíƒ€ì…ì´** ë©”ì†Œë“œì—ë„ **ë™ì¼ì ìš©** ë˜ì—ˆìŒ `ê³ ì •ì `
-   **ìœ ë‹ˆì˜¨ ë°©ì‹**ì—ì„œëŠ” **ë©”ì†Œë“œë¥¼ í˜¸ì¶œ**í•  ë•Œë§ˆë‹¤ **ë‹¤ë¥¸ íƒ€ì…**ì„ ë„£ì–´ **í˜¸ì¶œ**í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë‹¤ `ìœ ì—°í•¨`

# ìœ í‹¸ë¦¬í‹°(Partial,Readonly)

## Partial

```ts
interface CourseGoal {
    title: string;
    description: string;
    completeUntil: Date;
}

function createCourseGoal(title: string, description: string, date: Date): CourseGoal {
    let CourseGoal: Partial<CourseGoal> = {};

    CourseGoal.title = title;
    CourseGoal.description = description;
    CourseGoal.completeUntil = date;

    return CourseGoal as CourseGoal;
}
```

-   **Partial**ì€ íƒ€ì…ì˜ ëª¨ë“  ì†ì„±ë“¤ì„ **ì„ íƒì ** **optional**ìœ¼ë¡œ ë§Œë“¤ì–´ ì¤€ë‹¤.
-   í•¨ìˆ˜ì˜ returníƒ€ì…ì¸ **ë³€ìˆ˜ CourseGoal**ì€ ì„ íƒì  íƒ€ì…ì¸ `Partial<CourseGoal>`ì™€ ë‹¤ë¥´ë¯€ë¡œ **í˜•ë³€í˜•**

## Readonly

```ts
const readonly: Readonly<string[]> = ['Max', 'Anna'];
readonly.push('Manu');
// ğŸš« Error

readonly.pop('Manu');
// ğŸš« Error
```

-   **Readonly**ëŠ” íƒ€ì…ì˜ ëª¨ë“  ì†ì„±ë“¤ì„ **ì½ê¸°ì „ìš©**ìœ¼ë¡œ ë§Œë“ ë‹¤.
-   **ë°ì´í„° ìˆ˜ì •**ì´ **ë¶ˆê°€ëŠ¥**í•˜ë¯€ë¡œ ì—ëŸ¬ ë°œìƒ

---

# ref

[**íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ í•¸ë“œë¶**](https://joshua1988.github.io/ts/guide/generics.html#%EC%A0%9C%EB%84%A4%EB%A6%AD-%EC%A0%9C%EC%95%BD-%EC%A1%B0%EA%B1%B4**)
